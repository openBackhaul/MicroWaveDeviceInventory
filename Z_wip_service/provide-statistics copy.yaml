  /v1/provide-cache-quality-statistics:
    parameters:
      - $ref: '#/components/parameters/user'
      - $ref: '#/components/parameters/originator'
      - $ref: '#/components/parameters/x-correlator'
      - $ref: '#/components/parameters/trace-indicator'
      - $ref: '#/components/parameters/customer-journey'
    post:
      operationId: provideCacheQualityStatistics
      summary: 'Provides quality statistics for the cache'
      tags:
        - IndividualServices
      security:
        - apiKeyAuth: []
      requestBody:
        required: optional
        description: 'If no requestBody is provided, the service returns all found records'
        content:
          application/json:
            schema:
              type: object
              description: 'Data to be returned can optionally be filtered according to a provided date and also optionally be grouped'
              properties:
                date:
                  type: object
                  required:
                    - value
                    - option
                  properties:
                    value:
                      type: string
                      pattern: 'YYYY-MM-DD'
                    option:
                      type: string
                      enum:
                        - 'date'
                        - 'date-since'
                    description: 'If the optional date filter is provided, data is filtered to return either only data found for the given date (option date) or all data since the given date (option data-since)'
                group-by:
                  type: string
                  enum:
                    - 'day'
                    - 'device-type'
                    - 'vendor'
                    - 'day-device-type'
                    - 'day-vendor'
                  description: 'If provided, the (date-filtered) data is grouped according to either of available options'
      responses:
        '200':
          description: 'Cache quality statistics provided'
          content:
            application/json:
              schema:
                type: object
                one-of:
                  - description: 'statistics per device without grouping'
                    required:
                      - cache-quality-statistics
                    properties:
                      cache-quality-statistics:
                        description: 'Each found record the according to time filtering is included without changes'
                        type: array
                        items:
                          type: object
                          required:
                            - mount-name
                            - device-type
                            - vendor
                            - timestamp
                            - attribute-mismatches
                            - missing-classes
                            - weighted-score
                          properties:
                            mount-name:
                              type: string
                              description: 'The mount-name of the device for which statistics are returned'
                            device-type:
                              type: string
                              description: 'The type of the device'
                            vendor:
                              type: string
                              description: 'The device vendor'
                            timestamp:
                              type: string
                              description: 'The timestamp for when the statistics were gathered'
                            attribute-mismatches:
                              type: integer
                              description: 'The number of attribute mismatches'
                            missing-classes:
                              type: integer
                              description: 'The number of classes existing only in either cache or live'
                            missing-objects:
                              type: integer
                              description: 'The number of significant data objects missing in either cache or live'
                            weighted-score:
                              type: integer
                              description: 'The score computed from the found differences'
                        example:
                          cache-quality-statistics:
                            - mount-name: '100250001'
                              device-type: 'AGS20'
                              vendor: 'SIAE'
                              timestamp: '2025-04-21T12:03:45Z'
                              attribute-mismatches: 18
                              missing-classes: 2
                              missing-objects: 1
                              weighted-score: 31
                  - description: 'statistics grouped by day'
                    required:
                      - grouped-cache-quality-statistics
                    properties:
                      grouped-cache-quality-statistics:
                        description: 'One record for each day selected according to time filtering, which contains the averaged statistics for the given day'
                        type: array
                        items:
                          type: object
                          required:
                            - date
                            - attribute-mismatches
                            - missing-classes
                            - weighted-score
                          properties:
                            date:
                              type: string
                              description: 'The date for which the data is aggregated'
                            attribute-mismatches-sum:
                              type: integer
                              description: 'The summed up attribute-mismatches for all records from the given day'
                            missing-classes-sum:
                              type: integer
                              description: 'The summed up missing-classes for all records from the given day'
                            missing-objects-sum:
                              type: integer
                              description: 'The summed up missing-objects for all records from the given day'
                            attribute-mismatches-avg:
                              type: integer
                              description: 'The averaged attribute-mismatches for all records from the given day'
                            missing-objects-avg:
                              type: integer
                              description: 'The averaged missing-objects for all records from the given day'
                            missing-classes-avg:
                              type: integer
                              description: 'The averaged missing-classes for all records from the given day'
                            weighted-score-sum:
                              type: integer
                              description: 'The averaged weighted-score for all records from the given day'
                    example:
                      grouped-cache-quality-statistics:
                        - date: '2025-04-21'
                          attribute-mismatches-sum: 259
                          missing-classes-sum: 399
                          missing-objects-sum: 120
                          attribute-mismatches-avg: 32
                          missing-classes-avg: 17
                          missing-objects-avg: 8
                          weighted-score: 122
                  - description: 'statistics grouped by device-type'
                    required:
                      - grouped-cache-quality-statistics
                    properties:
                      grouped-cache-quality-statistics:
                        description: 'One record for each device-type with aggregated values of all records within selected timeframe'
                        type: array
                        items:
                          type: object
                          required:
                            - device-type
                            - attribute-mismatches-sum
                            - missing-classes-sum
                            - missing-objects-sum
                            - attribute-mismatches-avg
                            - missing-classes-avg
                            - missing-objects-avg
                            - weighted-score
                          properties:
                            device-type:
                              type: string
                              description: 'The device-type for which the data is aggregated'
                            attribute-mismatches-sum:
                              type: integer
                              description: 'The summed up attribute-mismatches for all records from the timeframe'
                            missing-classes-sum:
                              type: integer
                              description: 'The summed up missing-classes for all records from the timeframe'
                            missing-objects-sum:
                              type: integer
                              description: 'The summed up missing-objects for all records from the timeframe'
                            attribute-mismatches-avg:
                              type: integer
                              description: 'The averaged attribute-mismatches for all records from the timeframe'
                            missing-objects-avg:
                              type: integer
                              description: 'The averaged missing-objects for all records from the timeframe'
                            missing-classes-avg:
                              type: integer
                              description: 'The averaged missing-classes for all records from the timeframe'
                            weighted-score-sum:
                              type: integer
                              description: 'The averaged weighted-score for all records from the timeframe'
                    example:
                      grouped-cache-quality-statistics:
                        - device-type: 'AGS20'
                          attribute-mismatches-sum: 259
                          missing-classes-sum: 399
                          missing-objects-sum: 120
                          attribute-mismatches-avg: 32
                          missing-classes-avg: 17
                          missing-objects-avg: 8
                          weighted-score: 122
                  - description: 'statistics grouped by vendor'
                    required:
                      - grouped-cache-quality-statistics
                    properties:
                      grouped-cache-quality-statistics:
                        description: 'One record for each vendor with aggregated values of all records within selected timeframe'
                        type: array
                        items:
                          type: object
                          required:
                            - vendor
                            - attribute-mismatches
                            - missing-classes
                            - weighted-score
                          properties:
                            vendor:
                              type: string
                              description: 'The vendor for which the data is aggregated'
                            attribute-mismatches-sum:
                              type: integer
                              description: 'The summed up attribute-mismatches for all records from the timeframe'
                            missing-classes-sum:
                              type: integer
                              description: 'The summed up missing-classes for all records from the timeframe'
                            missing-objects-sum:
                              type: integer
                              description: 'The summed up missing-objects for all records from the timeframe'
                            attribute-mismatches-avg:
                              type: integer
                              description: 'The averaged attribute-mismatches for all records from the timeframe'
                            missing-objects-avg:
                              type: integer
                              description: 'The averaged missing-objects for all records from the timeframe'
                            missing-classes-avg:
                              type: integer
                              description: 'The averaged missing-classes for all records from the timeframe'
                            weighted-score-sum:
                              type: integer
                              description: 'The averaged weighted-score for all records from the timeframe'
                    example:
                      grouped-cache-quality-statistics:
                        - vendor: 'Siae'
                          attribute-mismatches-sum: 259
                          missing-classes-sum: 399
                          missing-objects-sum: 120
                          attribute-mismatches-avg: 32
                          missing-classes-avg: 17
                          missing-objects-avg: 8
                          weighted-score: 122
                  - description: 'statistics grouped by day and device-type'
                    required:
                      - grouped-cache-quality-statistics
                    properties:
                      grouped-cache-quality-statistics:
                        description: 'One record for each combination of day and device-type with aggregated values of all records within selected timeframe'
                        type: array
                        items:
                          type: object
                          required:
                            - date
                            - device-type
                            - attribute-mismatches
                            - missing-classes
                            - weighted-score
                          properties:
                            date:
                              type: string
                              description: 'The date for which data is aggregated'
                            device-type:
                              type: string
                              description: 'The device-type for which the data is aggregated'
                            attribute-mismatches-sum:
                              type: integer
                              description: 'The summed up attribute-mismatches for all records from the timeframe'
                            missing-classes-sum:
                              type: integer
                              description: 'The summed up missing-classes for all records from the timeframe'
                            missing-objects-sum:
                              type: integer
                              description: 'The summed up missing-objects for all records from the timeframe'
                            attribute-mismatches-avg:
                              type: integer
                              description: 'The averaged attribute-mismatches for all records from the timeframe'
                            missing-objects-avg:
                              type: integer
                              description: 'The averaged missing-objects for all records from the timeframe'
                            missing-classes-avg:
                              type: integer
                              description: 'The averaged missing-classes for all records from the timeframe'
                            weighted-score-sum:
                              type: integer
                              description: 'The averaged weighted-score for all records from the timeframe'
                    example:
                      grouped-cache-quality-statistics:
                        - date: '2025-03-12'
                          device-type: 'AGS20'
                          attribute-mismatches-sum: 259
                          missing-classes-sum: 399
                          missing-objects-sum: 120
                          attribute-mismatches-avg: 32
                          missing-classes-avg: 17
                          missing-objects-avg: 8
                          weighted-score: 122
                        - date: '2025-03-12'
                          device-type: 'MLTN'
                          attribute-mismatches-sum: 1000
                          missing-classes-sum: 300
                          missing-objects-sum: 400
                          attribute-mismatches-avg: 50
                          missing-classes-avg: 13
                          missing-objects-avg: 7
                          weighted-score: 210
                  - description: 'statistics grouped by day and vendor'
                    required:
                      - grouped-cache-quality-statistics
                    properties:
                      grouped-cache-quality-statistics:
                        description: 'One record for each combination of day and vendor with aggregated values of all records within selected timeframe'
                        type: array
                        items:
                          type: object
                          required:
                            - date
                            - vendor
                            - attribute-mismatches
                            - missing-classes
                            - weighted-score
                          properties:
                            date:
                              type: string
                              description: 'The date for which data is aggregated'
                            vendor:
                              type: string
                              description: 'The vendor for which the data is aggregated'
                            attribute-mismatches-sum:
                              type: integer
                              description: 'The summed up attribute-mismatches for all records from the timeframe'
                            missing-classes-sum:
                              type: integer
                              description: 'The summed up missing-classes for all records from the timeframe'
                            missing-objects-sum:
                              type: integer
                              description: 'The summed up missing-objects for all records from the timeframe'
                            attribute-mismatches-avg:
                              type: integer
                              description: 'The averaged attribute-mismatches for all records from the timeframe'
                            missing-objects-avg:
                              type: integer
                              description: 'The averaged missing-objects for all records from the timeframe'
                            missing-classes-avg:
                              type: integer
                              description: 'The averaged missing-classes for all records from the timeframe'
                            weighted-score-sum:
                              type: integer
                              description: 'The averaged weighted-score for all records from the timeframe'
                    example:
                      grouped-cache-quality-statistics:
                        - date: '2025-03-12'
                          vendor: 'Siae'
                          attribute-mismatches-sum: 259
                          missing-classes-sum: 399
                          missing-objects-sum: 120
                          attribute-mismatches-avg: 32
                          missing-classes-avg: 17
                          missing-objects-avg: 8
                          weighted-score: 122
                        - date: '2025-03-12'
                          vendor: 'Huawei'
                          attribute-mismatches-sum: 22
                          missing-classes-sum: 30
                          missing-objects-sum: 15
                          attribute-mismatches-avg: 2
                          missing-classes-avg: 3
                          missing-objects-avg: 4
                          weighted-score: 10
          headers:
            x-correlator:
              $ref: '#/components/headers/x-correlator'
            exec-time:
              $ref: '#/components/headers/exec-time'
            backend-time:
              $ref: '#/components/headers/backend-time'
            life-cycle-state:
              $ref: '#/components/headers/life-cycle-state'
              description: >
                'Life cycle state of the consumed service
                find in [/core-model-1-4:control-construct/logical-termination-point=mwdi-1-3-0-op-s-is-019/layer-protocol=0/operation-server-interface-1-0:operation-server-interface-pac/operation-server-interface-configuration/life-cycle-state]'
        '400':
          $ref: '#/components/responses/responseForErroredServiceRequests'
        '401':
          $ref: '#/components/responses/responseForErroredServiceRequests'
        '403':
          $ref: '#/components/responses/responseForErroredServiceRequests'
        '404':
          $ref: '#/components/responses/responseForErroredServiceRequests'
        '500':
          $ref: '#/components/responses/responseForErroredServiceRequests'
        default:
          $ref: '#/components/responses/responseForErroredServiceRequests'


